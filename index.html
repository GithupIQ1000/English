<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>ƒê·ªçc v√† ghi file JSON</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    textarea { width: 100%; height: 200px; }
    button { margin-top: 10px; padding: 8px 16px; }
  </style>
</head>
<body>
  <h2>üìÅ M·ªü v√† ghi file JSON</h2>
  <input type="file" id="fileInput" accept=".json">
  <textarea id="jsonText" placeholder="N·ªôi dung JSON s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea>
  <br>
  <button id="saveBtn">üíæ Ghi v√† t·∫£i xu·ªëng JSON m·ªõi</button>

  <script>
    const fileInput = document.getElementById('fileInput');
    const jsonText = document.getElementById('jsonText');
    const saveBtn = document.getElementById('saveBtn');

    // ƒê·ªçc file JSON
    fileInput.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (event) => {
        jsonText.value = event.target.result;
      };
      reader.readAsText(file);
    });

    // Ghi l·∫°i v√† t·∫£i xu·ªëng file JSON m·ªõi
    saveBtn.addEventListener('click', () => {
      try {
        const data = JSON.parse(jsonText.value); // ki·ªÉm tra JSON h·ª£p l·ªá
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'data_updated.json';
        a.click();
      } catch (err) {
        alert("‚ùå JSON kh√¥ng h·ª£p l·ªá!");
      }
    });
  </script>
</body>
</html>
